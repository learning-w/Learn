# chapter 02 一切都是对象

## 2.1 用引用操纵对象

- 使用标识符操纵一个对象,实际上这个标识符是对象的一个"引用".想要操纵一个词或句子,可以创建一个String引用

```java
String s;
```

这里创建的只是引用,并不是对象.如果此时对s发送一个消息,那么就会返回一个运行时的错误.因为此时s并没有与任何事物关联.所以安全的做法应该在创建引用的时候进行初始化.

```java
String s = "abcd";
//此处字符串可以用带引号的文本初始化.
```

---

## 2.2 必须由你创建所有对象

- 通常使用new操作符来实现为一个引用创建一个对象相关联.

```java
String s = new String("abcd");
```

### 2.2.1 存储到什么地方

- **寄存器**,最快的存储区,因为它在处理器的内部.同时寄存器的数量有限,所以寄存器会根据需求进行分配.
- **堆栈**,位于通用RAM(随机访问存储器)中,可以通过堆栈指针从处理器那里获得直接支持,指针向下移动则分配新的内存,向上移动,则释放那些内存.需要知道所有项的确切生命周期.对象引用存储于堆栈中,但是Java对象不存在于其中.
- **堆**,一种通用的内存池(位于RAM区),用于存放所有的JAVA对象.不需要知道存储的数据需要存活多长时期.与栈比较,更加灵活,但是牺牲了效率.
- **常量存储**,通常存放在代码内部.永远不会被更改.有时,在嵌入式系统中,常量会和其他部分隔离开.在这种情况下,可以选择存放在ROM(只读存储器)中.
- **非RAM存储**.可以存活于程序之外,不受程序控制.**流对象**和**持久化对象**.这种存储方式的技巧就是将对象转换成可以存放在其他媒介上的事物,在需要的时候,可以恢复成常规的,基于RAM的对象.

#### 2.2.2 基本类型

- **存储于堆栈中**,不用new来创建变量,而是创建一个并非是引用的"自动变量",更加高效.
- **存储空间大小不会随机器硬件架构变化而变化**（使Java程序更具可移植性的原因之一）。
- **boolean** 大小没有明确指定，仅定义为能够取字面值true和false。包装类类型**Boolean**。
- **char**，大小16bits，最小值Unicode 0，最大值Unicode 2^16，包装类**Character**。
- **byte**，大小8bits，最小值-128，最大值127，包装类**Byte**。
- **short**,大小16bits，最小值-2^15，最大值2^15-1，包装类**Short**。
- **int**，大小32bits，最小值-2^31，最大值2^31-1，包装类**Integer**。
- **long**，大小64bits，最小值-2^63，最大值2^63-1，包装类**Long**。
- **float**，大小32bits，IEEE754，IEEE754，**Float**。
- **double**，64bits,IEEE754，IEEE754，**Double**。
- 自动包装,Character ch = 'x'。反向装换，char c = ch；
- 两个高精度的类，**BigInteger**和**BigDecimal**。两者没有对应的基本类型。以方法调用的方式取代运算符方式来实现。用速度换取了精度。



